FFILES:=exception_handling_common_wrappers.f03 exception_handling_unit_test.f03

# .PHONY: $(FFILES)
.SUFFIXES : 
.SUFFIXES : .f03 .xsl $(SUFFIXES)

%.f03: %.xsl autogenerated.xsl %.xml
	xsltproc --output "$@" --stringparam isoD `date +"%Y%m%d"` $^

all: install
all: $(FFILES)

exception_handling_common_wrappers.f03: exception_handling_common_wrappers.xsl autogenerated.xsl exception_handling_common_wrappers.xml
	xsltproc --output "$@" --stringparam isoD `date +"%Y%m%d"` --debug $^
exception_handling_unit_test.f03: exception_handling_unit_test.xsl autogenerated.xsl exception_handling_unit_test.xml
	xsltproc --output "$@" --stringparam isoD `date +"%Y%m%d"` --debug $^


install_cmd:=$(foreach ffile,$(FFILES),cat $(ffile) > ../$(ffile) ; )
install: $(FFILES)
	@echo "INSTALL: $(install_cmd)"
	$(install_cmd)

veryclean:
	$(RM) $(FFILES)